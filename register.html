<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth overflow-x-hidden">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register • TechSummit Assembly</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif']
                    },
                    colors: {
                        midnight: '#05060d',
                        pulse: '#38bdf8',
                        bloom: '#c084fc',
                        ember: '#f97316'
                    }
                }
            }
        }
    </script>
</head>

<body class="font-sans bg-midnight text-gray-100 antialiased min-h-screen overflow-x-hidden relative pt-32 pb-20" data-nav-transparent="false" data-nav-theme="dark">
    <div class="absolute inset-0 pointer-events-none overflow-hidden">
        <div class="absolute -top-48 -end-12 w-[32rem] h-[32rem] bg-pulse/30 blur-[180px]"></div>
        <div class="absolute top-32 -start-32 w-96 h-96 bg-bloom/25 blur-[160px]"></div>
        <div class="absolute bottom-0 end-1/3 w-64 h-64 bg-emerald-400/20 blur-[140px]"></div>
        <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 1px 1px, #ffffff 1px, transparent 0); background-size: 36px 36px;"></div>
    </div>

    <main class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 space-y-16">
        <div class="grid lg:grid-cols-[0.95fr,1.05fr] gap-10">
            <section class="space-y-10">
                <div>
                    <div class="inline-flex items-center gap-3 rounded-full border border-white/15 bg-white/5 px-5 py-2 text-xs font-semibold tracking-[0.4em] uppercase">
                        Batch 02 // 2025
                    </div>
                    <h1 class="text-4xl sm:text-5xl font-black leading-tight mt-6">Compose your <span class="text-pulse">TechSummit</span> journey from the ground up</h1>
                    <p class="text-lg text-gray-300 mt-4 max-w-2xl">Unlock labs, curated lounges, and field trips across Barcelona, Singapore, and Seattle. We stitch together your agenda, logistics, and concierge support in one guided flow.</p>
                </div>

                <div class="grid sm:grid-cols-3 gap-4">
                    <article class="rounded-3xl border border-white/10 bg-white/5 p-4">
                        <p class="text-4xl font-black">3200</p>
                        <p class="text-xs uppercase tracking-[0.35em] text-gray-400 mt-1">Seats remaining</p>
                    </article>
                    <article class="rounded-3xl border border-white/10 bg-white/5 p-4">
                        <p class="text-4xl font-black">148</p>
                        <p class="text-xs uppercase tracking-[0.35em] text-gray-400 mt-1">Studios & labs</p>
                    </article>
                    <article class="rounded-3xl border border-white/10 bg-white/5 p-4">
                        <p class="text-4xl font-black">72%</p>
                        <p class="text-xs uppercase tracking-[0.35em] text-gray-400 mt-1">Custom agendas</p>
                    </article>
                </div>

                <div class="grid md:grid-cols-2 gap-5">
                    <article class="rounded-3xl border border-white/10 bg-gradient-to-br from-white/10 to-white/5 p-6 space-y-5">
                        <div class="flex items-center justify-between">
                            <p class="text-sm uppercase tracking-[0.5em] text-gray-400">Inclusions</p>
                            <span class="text-xs font-semibold text-white/70">Curated by concierge</span>
                        </div>
                        <ul class="space-y-3 text-sm text-gray-100">
                            <li class="flex items-center gap-3"><i class="fas fa-check text-emerald-400"></i> City-to-city mobility credits</li>
                            <li class="flex items-center gap-3"><i class="fas fa-check text-emerald-400"></i> Priority labs & studio rotations</li>
                            <li class="flex items-center gap-3"><i class="fas fa-check text-emerald-400"></i> Private signal channel + alerts</li>
                        </ul>
                    </article>

                    <article class="rounded-3xl border border-white/10 bg-white/5 p-6 space-y-4">
                        <p class="text-sm uppercase tracking-[0.45em] text-gray-400">Pass architecture</p>
                        <div class="space-y-3">
                            <div class="flex items-start gap-3">
                                <span class="w-2 h-2 mt-2 rounded-full bg-pulse"></span>
                                <div>
                                    <p class="font-semibold">Immersive</p>
                                    <p class="text-sm text-gray-400">Workshops, lounges, talent mixer</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-2 h-2 mt-2 rounded-full bg-bloom"></span>
                                <div>
                                    <p class="font-semibold">Founder</p>
                                    <p class="text-sm text-gray-400">Studio hours + investor supper</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-2 h-2 mt-2 rounded-full bg-ember"></span>
                                <div>
                                    <p class="font-semibold">Executive</p>
                                    <p class="text-sm text-gray-400">Boardroom briefings, mobility concierge</p>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>

                <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
                    <p class="text-xs uppercase tracking-[0.45em] text-gray-400 mb-4">Flow preview</p>
                    <div class="space-y-4">
                        <div class="flex gap-4">
                            <span class="w-10 h-10 rounded-2xl bg-white/10 border border-white/15 flex items-center justify-center text-sm font-semibold">01</span>
                            <div>
                                <p class="font-semibold">Signal in</p>
                                <p class="text-sm text-gray-400">Profile + intent detection for curated agenda.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <span class="w-10 h-10 rounded-2xl bg-white/10 border border-white/15 flex items-center justify-center text-sm font-semibold">02</span>
                            <div>
                                <p class="font-semibold">Craft your pass</p>
                                <p class="text-sm text-gray-400">Select tier, add-ons, and dietary/accessibility notes.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <span class="w-10 h-10 rounded-2xl bg-white/10 border border-white/15 flex items-center justify-center text-sm font-semibold">03</span>
                            <div>
                                <p class="font-semibold">Confirm logistics</p>
                                <p class="text-sm text-gray-400">Instant confirmation with travel concierge handoff.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rounded-3xl border border-white/10 bg-white/5 p-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
                    <div>
                        <p class="text-sm uppercase tracking-[0.45em] text-gray-400">Need a curator?</p>
                        <p class="text-base text-gray-100">Our team can architect your cohort in under 12 hours.</p>
                    </div>
                    <a href="contact.html" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/20 text-sm font-semibold text-white hover:bg-white/10 transition">
                        Talk to concierge <i class="fas fa-arrow-up-right-from-square text-xs"></i>
                    </a>
                </div>
            </section>

            <section class="bg-white rounded-[36px] shadow-2xl border border-white/60 p-8 md:p-10 text-gray-900">
                <div>
                    <p class="text-xs uppercase tracking-[0.5em] text-gray-400">Guided intake</p>
                    <div class="flex flex-wrap items-baseline gap-3 mt-2">
                        <h2 class="text-3xl font-bold">Secure a TechSummit pass</h2>
                        <span class="text-sm text-gray-500">3 quick steps with autosave</span>
                    </div>
                </div>

                <div class="mt-8">
                    <div class="flex items-center justify-between gap-3 text-sm font-semibold text-gray-400">
                        <div class="step-pill w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center" data-step-index="1">1</div>
                        <span class="flex-1 h-px bg-gray-200"></span>
                        <div class="step-pill w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center" data-step-index="2">2</div>
                        <span class="flex-1 h-px bg-gray-200"></span>
                        <div class="step-pill w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center" data-step-index="3">3</div>
                    </div>
                    <div class="relative h-2 bg-gray-100 rounded-full mt-6">
                        <div id="register-progress" class="absolute inset-y-0 start-0 rounded-full bg-gradient-to-r from-pulse via-bloom to-ember transition-all duration-300" style="width: 0%"></div>
                    </div>
                    <div class="flex justify-between text-xs uppercase tracking-[0.4em] text-gray-400 mt-4">
                        <span>Profile</span>
                        <span>Experience</span>
                        <span class="text-right">Confirm</span>
                    </div>
                </div>

                <form id="summit-registration" data-native-handler="true" class="mt-10 space-y-10">
                    <div data-form-step="1" class="space-y-6">
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-[0.3em] mb-2">Step 01</p>
                            <h3 class="text-2xl font-bold">Tell us who is attending</h3>
                        </div>
                        <div class="grid sm:grid-cols-2 gap-5">
                            <div>
                                <label for="firstName" class="block text-sm font-semibold mb-2">First name</label>
                                <input id="firstName" name="firstName" type="text" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3">
                            </div>
                            <div>
                                <label for="lastName" class="block text-sm font-semibold mb-2">Last name</label>
                                <input id="lastName" name="lastName" type="text" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3">
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-semibold mb-2">Best email</label>
                            <input id="email" name="email" type="email" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3" placeholder="you@company.com">
                        </div>
                        <div class="grid sm:grid-cols-2 gap-5">
                            <div>
                                <label for="company" class="block text-sm font-semibold mb-2">Company / studio</label>
                                <input id="company" name="company" type="text" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3" placeholder="Optional">
                            </div>
                            <div>
                                <label for="role" class="block text-sm font-semibold mb-2">Role focus</label>
                                <select id="role" name="role" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3 bg-white">
                                    <option>Engineering lead</option>
                                    <option>Product builder</option>
                                    <option>Founder</option>
                                    <option>Designer</option>
                                    <option>Student</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex items-start gap-3 rounded-2xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-600">
                            <i class="fas fa-lock text-pulse"></i>
                            <p>Your profile is encrypted in transit and never shared outside TechSummit partners.</p>
                        </div>
                        <div class="flex justify-end">
                            <button type="button" data-next-step class="inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-pulse to-bloom text-white font-semibold px-7 py-3 shadow-lg shadow-pulse/30">
                                Continue <i class="fas fa-arrow-right rtl:rotate-180"></i>
                            </button>
                        </div>
                    </div>

                    <div data-form-step="2" class="space-y-6 hidden">
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-[0.3em] mb-2">Step 02</p>
                            <h3 class="text-2xl font-bold">Choose your experience</h3>
                        </div>
                        <div class="space-y-4">
                            <label class="block rounded-3xl border border-gray-200 hover:border-pulse transition p-5 cursor-pointer">
                                <input type="radio" name="passType" value="immersive" required class="sr-only">
                                <div class="flex items-center justify-between gap-4">
                                    <div>
                                        <p class="text-lg font-semibold">Immersive Pass</p>
                                        <p class="text-sm text-gray-500">Core conference + lab rotations</p>
                                    </div>
                                    <p class="text-2xl font-bold text-gray-900">$299</p>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Includes daily lunch, talent mixer, and lounge access.</p>
                            </label>
                            <label class="block rounded-3xl border border-gray-200 hover:border-pulse transition p-5 cursor-pointer">
                                <input type="radio" name="passType" value="founder" class="sr-only">
                                <div class="flex items-center justify-between gap-4">
                                    <div>
                                        <p class="text-lg font-semibold">Founder Circle</p>
                                        <p class="text-sm text-gray-500">Private studio hours + investor supper</p>
                                    </div>
                                    <p class="text-2xl font-bold text-gray-900">$575</p>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Adds matchmaking concierge and curated pitch salon.</p>
                            </label>
                            <label class="block rounded-3xl border border-gray-200 hover:border-pulse transition p-5 cursor-pointer">
                                <input type="radio" name="passType" value="executive" class="sr-only">
                                <div class="flex items-center justify-between gap-4">
                                    <div>
                                        <p class="text-lg font-semibold">Executive Suite</p>
                                        <p class="text-sm text-gray-500">Mobility concierge + boardroom briefings</p>
                                    </div>
                                    <p class="text-2xl font-bold text-gray-900">$890</p>
                                </div>
                                <p class="text-sm text-gray-500 mt-2">Dedicated handler, backstage access, and chef table.</p>
                            </label>
                        </div>

                        <div class="grid sm:grid-cols-2 gap-5">
                            <div>
                                <label for="dietary" class="block text-sm font-semibold mb-2">Dietary notes</label>
                                <select id="dietary" name="dietary" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3 bg-white">
                                    <option value="none">None</option>
                                    <option value="vegetarian">Vegetarian</option>
                                    <option value="vegan">Vegan</option>
                                    <option value="gluten-free">Gluten free</option>
                                    <option value="kosher">Kosher</option>
                                </select>
                            </div>
                            <div>
                                <label for="arrival" class="block text-sm font-semibold mb-2">Arrival city</label>
                                <select id="arrival" name="arrival" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3 bg-white">
                                    <option>Barcelona</option>
                                    <option>Singapore</option>
                                    <option>Seattle</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label for="intention" class="block text-sm font-semibold mb-2">Intent for the summit</label>
                            <textarea id="intention" name="intention" rows="3" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3" placeholder="Tell us where to focus..."></textarea>
                        </div>

                        <div class="rounded-3xl border border-gray-200 bg-gray-50 p-5" id="pass-summary">
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-[0.3em]">Current selection</p>
                            <p class="text-lg font-semibold text-gray-900 mt-2">Choose a pass above</p>
                            <p class="text-sm text-gray-500">We will surface perks and pricing once selected.</p>
                        </div>

                        <div class="flex flex-wrap gap-4 justify-between">
                            <button type="button" data-prev-step class="inline-flex items-center gap-2 text-gray-500 font-semibold">
                                <i class="fas fa-arrow-left rtl:rotate-180"></i> Back
                            </button>
                            <button type="button" data-next-step class="inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-pulse to-bloom text-white font-semibold px-7 py-3 shadow-lg shadow-pulse/30">
                                Continue <i class="fas fa-arrow-right rtl:rotate-180"></i>
                            </button>
                        </div>
                    </div>

                    <div data-form-step="3" class="space-y-6 hidden">
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-[0.3em] mb-2">Step 03</p>
                            <h3 class="text-2xl font-bold">Confirm & settle payment</h3>
                        </div>

                        <div class="rounded-3xl border border-gray-200 bg-gray-50 p-5 space-y-4">
                            <div class="flex items-center justify-between">
                                <p class="text-sm font-semibold uppercase tracking-[0.3em] text-gray-500">Summary</p>
                                <span class="text-xs text-gray-400">Auto-updates</span>
                            </div>
                            <div id="review-summary" class="space-y-2 text-sm text-gray-600"></div>
                        </div>

                        <div>
                            <label for="cardNumber" class="block text-sm font-semibold mb-2">Card number</label>
                            <div class="relative">
                                <i class="fas fa-credit-card absolute start-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                <input id="cardNumber" name="cardNumber" type="text" inputmode="numeric" autocomplete="cc-number" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse ps-12 pe-4 py-3" placeholder="0000 0000 0000 0000">
                            </div>
                        </div>
                        <div class="grid sm:grid-cols-3 gap-4">
                            <div>
                                <label for="exp" class="block text-sm font-semibold mb-2">Expiry</label>
                                <input id="exp" name="exp" type="text" inputmode="numeric" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3" placeholder="MM/YY">
                            </div>
                            <div>
                                <label for="cvc" class="block text-sm font-semibold mb-2">CVC</label>
                                <input id="cvc" name="cvc" type="text" inputmode="numeric" required class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3" placeholder="123">
                            </div>
                            <div>
                                <label for="country" class="block text-sm font-semibold mb-2">Billing country</label>
                                <select id="country" name="country" class="w-full rounded-2xl border border-gray-200 focus:ring-2 focus:ring-pulse focus:border-pulse px-4 py-3 bg-white">
                                    <option>United States</option>
                                    <option>Canada</option>
                                    <option>United Kingdom</option>
                                    <option>Singapore</option>
                                    <option>Australia</option>
                                </select>
                            </div>
                        </div>

                        <label class="flex items-start gap-3 text-sm text-gray-600">
                            <input type="checkbox" name="terms" required class="mt-1 w-4 h-4 rounded text-pulse focus:ring-pulse border-gray-300">
                            <span>I agree to the TechSummit participation charter and understand all fees are transferable but non-refundable after March 1.</span>
                        </label>

                        <div class="flex flex-wrap gap-4 justify-between items-center">
                            <button type="button" data-prev-step class="inline-flex items-center gap-2 text-gray-500 font-semibold">
                                <i class="fas fa-arrow-left rtl:rotate-180"></i> Back
                            </button>
                            <button type="submit" data-submit class="inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold px-8 py-3 shadow-lg shadow-emerald-500/30">
                                <i class="fas fa-lock"></i> Confirm & pay
                            </button>
                        </div>
                    </div>
                </form>
            </section>
        </div>

        <section class="rounded-3xl border border-white/10 bg-white/5 p-8 backdrop-blur-xl">
            <div class="flex flex-wrap items-center gap-6">
                <div class="flex-1 min-w-[220px]">
                    <p class="text-xs uppercase tracking-[0.4em] text-gray-400">What happens next</p>
                    <h4 class="text-2xl font-bold mt-2">Receive itinerary drops in 3 pulses</h4>
                </div>
                <div class="flex-1 min-w-[220px] space-y-2 text-sm text-gray-200">
                    <p><span class="font-semibold text-pulse">Pulse 1</span> • Agenda + lounge allocation</p>
                    <p><span class="font-semibold text-bloom">Pulse 2</span> • Mobility + hotel pairing</p>
                    <p><span class="font-semibold text-emerald-300">Pulse 3</span> • Concierge handoff + live alerts</p>
                </div>
                <a href="schedule.html" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/20 text-sm font-semibold text-white hover:bg-white/10 transition">Preview the schedule <i class="fas fa-arrow-right text-xs rtl:rotate-180"></i></a>
            </div>
        </section>

        <section class="rounded-3xl border border-white/10 bg-white/5 p-6 sm:p-8 text-sm text-gray-200">
            <div class="flex flex-col gap-5 md:flex-row md:items-center md:justify-between">
                <div class="space-y-2">
                    <p class="text-xs uppercase tracking-[0.4em] text-gray-400">Already confirmed?</p>
                    <p class="text-lg font-semibold text-white">Access the signal deck to orchestrate your experience.</p>
                </div>
                <a href="login.html" class="inline-flex items-center gap-2 rounded-full border border-white/20 px-5 py-3 text-sm font-semibold text-white hover:bg-white/10 transition">Go to login <i class="fas fa-arrow-right text-xs rtl:rotate-180"></i></a>
            </div>
        </section>
    </main>

    <script src="js/rtl-toggle.js"></script>
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('summit-registration');
            const steps = Array.from(document.querySelectorAll('[data-form-step]'));
            const pills = Array.from(document.querySelectorAll('[data-step-index]'));
            const progress = document.getElementById('register-progress');
            const summary = document.getElementById('review-summary');
            const passSummary = document.getElementById('pass-summary');
            const passRadios = document.querySelectorAll('input[name="passType"]');
            const submitBtn = form?.querySelector('[data-submit]');
            const passDetails = {
                immersive: {
                    title: 'Immersive Pass',
                    price: '$299',
                    perks: 'Labs, lounges, mixers'
                },
                founder: {
                    title: 'Founder Circle',
                    price: '$575',
                    perks: 'Studio hours, investor supper'
                },
                executive: {
                    title: 'Executive Suite',
                    price: '$890',
                    perks: 'Mobility concierge, backstage access'
                }
            };

            let currentStep = 1;

            const activePill = ['bg-gradient-to-r', 'from-pulse', 'to-bloom', 'text-white', 'border-transparent', 'shadow-lg'];
            const inactivePill = ['bg-white', 'text-gray-400', 'border-gray-200'];

            const showStep = (step) => {
                if (!steps.length) return;
                currentStep = Math.min(Math.max(step, 1), steps.length);
                steps.forEach(panel => {
                    panel.classList.toggle('hidden', Number(panel.dataset.formStep) !== currentStep);
                });
                pills.forEach(pill => {
                    const isActive = Number(pill.dataset.stepIndex) <= currentStep;
                    pill.classList.remove(...activePill, ...inactivePill);
                    pill.classList.add('border');
                    pill.classList.add(...(isActive ? activePill : inactivePill));
                });
                if (progress) {
                    const percent = steps.length === 1 ? 100 : ((currentStep - 1) / (steps.length - 1)) * 100;
                    progress.style.width = `${percent}%`;
                }
                if (currentStep === steps.length) {
                    populateSummary();
                }
            };

            const validateStep = () => {
                const panel = steps[currentStep - 1];
                if (!panel) return true;
                const fields = panel.querySelectorAll('input, select, textarea');
                for (const field of fields) {
                    if (!field.checkValidity()) {
                        field.reportValidity();
                        return false;
                    }
                }
                return true;
            };

            const populateSummary = () => {
                if (!form || !summary) return;
                const data = new FormData(form);
                const passKey = data.get('passType');
                const detail = passKey ? passDetails[passKey] : null;
                const rows = [
                    { label: 'Attendee', value: `${data.get('firstName') || '—'} ${data.get('lastName') || ''}`.trim() },
                    { label: 'Email', value: data.get('email') || '—' },
                    { label: 'Pass', value: detail ? `${detail.title} · ${detail.price}` : 'Not selected' },
                    { label: 'Dietary', value: data.get('dietary') || 'None' },
                    { label: 'Arrival city', value: data.get('arrival') || 'TBD' }
                ];
                summary.innerHTML = rows.map(row => `<div class="flex items-center justify-between"><span class="text-gray-500">${row.label}</span><span class="font-semibold text-gray-900">${row.value}</span></div>`).join('');
            };

            const updatePassSummary = (value) => {
                if (!passSummary) return;
                const detail = passDetails[value];
                if (!detail) return;
                passSummary.innerHTML = `
                    <p class="text-sm font-semibold text-gray-500 uppercase tracking-[0.3em]">Current selection</p>
                    <p class="text-lg font-semibold text-gray-900 mt-2">${detail.title}</p>
                    <p class="text-2xl font-black text-gray-900">${detail.price}</p>
                    <p class="text-sm text-gray-500">${detail.perks}</p>
                `;
            };

            document.querySelectorAll('[data-next-step]').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (!validateStep()) return;
                    showStep(currentStep + 1);
                });
            });

            document.querySelectorAll('[data-prev-step]').forEach(btn => {
                btn.addEventListener('click', () => {
                    showStep(currentStep - 1);
                });
            });

            passRadios.forEach(radio => {
                radio.addEventListener('change', () => updatePassSummary(radio.value));
            });

            if (form) {
                form.addEventListener('submit', (event) => {
                    event.preventDefault();
                    if (!validateStep()) return;
                    populateSummary();
                    if (submitBtn) {
                        const original = submitBtn.innerHTML;
                        submitBtn.disabled = true;
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing';
                        setTimeout(() => {
                            submitBtn.innerHTML = '<i class="fas fa-check"></i> Reserved';
                            setTimeout(() => {
                                submitBtn.disabled = false;
                                submitBtn.innerHTML = original;
                            }, 1400);
                        }, 1800);
                    }
                });
            }

            showStep(1);
        });
    </script>
</body>

</html>